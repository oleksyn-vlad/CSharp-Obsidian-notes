Here is the note on `is` and `as` operators in English, formatted for Obsidian.

---

## C# Operators: `is` and `as`

These operators allow you to check types and safely convert (cast) objects at runtime, avoiding program crashes caused by `InvalidCastException`.

### 1. The `is` Operator (Type Check)

The `is` operator checks if an object **is compatible** with a specific type. It returns `true` or `false`.

#### Classic Usage (Check only)

C#

```C#
object obj = "Hello World";

if (obj is string)
{
    Console.WriteLine("Yes, it is a string");
}
```

#### Pattern Matching (Modern C# - Recommended)

Since C# 7, you can check the type and **assign the variable immediately** in one step. This eliminates the need for a separate cast.

C#

```C#
object obj = "Hello World";

// "If obj is a string, assign it to variable 'str' and enter the if block"
if (obj is string str)
{
    // Here we can safely use 'str' as a string
    Console.WriteLine($"String length: {str.Length}"); 
}
```

### 2. The `as` Operator (Safe Cast)

The `as` operator attempts to convert an object to a specific type.

- If successful: returns the **object of the target type**.
    
- If failed: returns **`null`** (no error is thrown).
    

> **Note:** This works only with reference types (`class`) or nullable types.

C#

```C#
object obj = "Hello";
object numberObj = 123;

// 1. Successful cast
string s = obj as string; 
// s is "Hello"

// 2. Failed cast
string s2 = numberObj as string; 
// s2 is null (because 123 is not a string)

// ALWAYS check for null after using 'as'
if (s2 != null)
{
    Console.WriteLine(s2);
}
else
{
    Console.WriteLine("Conversion failed (it is not a string)");
}
```

### 3. Comparison: Explicit Cast vs `is` vs `as`

|**Method**|**Syntax**|**Behavior on Failure**|**When to Use**|
|---|---|---|---|
|**Explicit Cast**|`(string)obj`|**Throws Exception** (Crash)|When you are 100% sure of the object type.|
|**`as` Operator**|`obj as string`|Returns `null`|When you want to safely handle failure (soft cast).|
|**`is` Operator**|`obj is string`|Returns `false`|When you just want to check logic (yes/no).|

### 4. Best Practices

1. **Prefer Pattern Matching (`is type var`)**: This is the most concise and modern way to check a type and safely get the data.
    
    C#
    
    ```C#
    // DO THIS:
    if (animal is Dog dog) { dog.Bark(); }
    
    // INSTEAD OF THIS:
    var dog = animal as Dog;
    if (dog != null) { dog.Bark(); }
    ```
    
2. **Avoid Explicit Casts** (`(Dog)animal`) unless absolutely necessary: This is dangerous if you are not sure about the data. Use it only if you _want_ the program to crash on invalid data.