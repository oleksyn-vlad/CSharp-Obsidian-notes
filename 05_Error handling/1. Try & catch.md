
---

## C# Exception Handling: Try & Catch

In C#, a runtime error is called an Exception.

If an exception occurs (like dividing by zero or accessing a null object) and you don't handle it, the program crashes immediately.

**Try-Catch** allows you to "catch" the error, handle it gracefully, and keep the program running.

### 1. Basic Syntax

- **`try` block**: Contains the "risky" code that might cause an error.
    
- **`catch` block**: Contains the code that runs **only if** an error happens in the try block.
    

C#

```C#
Console.WriteLine("Before try block");

try
{
    int a = 10;
    int b = 0;
    
    // This causes a crash (DivideByZeroException)
    // The program immediately jumps to 'catch'
    int result = a / b; 
    
    Console.WriteLine("This line will NEVER run");
}
catch
{
    // This runs because an error happened
    Console.WriteLine("An error occurred! You cannot divide by zero.");
}

Console.WriteLine("After try block (Program keeps running)");
```

### 2. The Exception Object (`ex`)

Usually, you want to know **what** went wrong. You can access the error details by adding a parameter to the catch block (usually named `ex`).

- `ex.Message`: A human-readable description of the error.
    
- `ex.StackTrace`: Shows exactly which line of code caused the error.
    

C#

```C#
try
{
    string input = "abc";
    int num = int.Parse(input); // Error: Input string was not in a correct format
}
catch (Exception ex)
{
    // Prints the specific error message from C#
    Console.WriteLine($"Error details: {ex.Message}");
}
```

### 3. Catching Specific Exceptions

You can have multiple catch blocks to handle different types of errors differently.

Rule: You must catch the most specific exceptions first and the general Exception last.

C#

```C#
try
{
    // Imagine user input here
    int[] numbers = { 1, 2, 3 };
    Console.WriteLine(numbers[5]); // IndexOutOfRangeException
}
catch (IndexOutOfRangeException ex)
{
    Console.WriteLine("You tried to access an array index that doesn't exist!");
}
catch (DivideByZeroException ex)
{
    Console.WriteLine("Math error: Don't divide by zero.");
}
catch (Exception ex) // The "Catch-All" bucket
{
    Console.WriteLine($"Some other error happened: {ex.Message}");
}
```

### 4. Global Exception Handling (Good to know)

In C#, Exception is the base class for all errors.

If you write catch (Exception ex), it will catch everything (NullReference, Format, IndexOutOfRange, etc.). This is useful as a fallback, but it is better practice to catch specific errors when possible.