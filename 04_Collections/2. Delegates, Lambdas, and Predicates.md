 
---

## C# Delegates, Lambdas, and Predicates

This note covers the progression from "storing functions in variables" (Delegates) to writing them concisely (Lambdas) and using them for filtering (Predicates).

### 1. Delegates (The Foundation)

A Delegate is a variable that holds a reference to a method (function) instead of data.

Think of it as a "Function Pointer". If you have a delegate variable, you can assign any method to it, provided the signature (parameters and return type) matches.

#### How to use a custom Delegate:

1. **Declare** the type.
    
2. **Instantiate** (Assign a method).
    
3. **Invoke** (Call it).
    

C#

```C#
// 1. DECLARE
public delegate void LogHandler(string message);

// Matching methods
public void LogToConsole(string txt) => Console.WriteLine($"C: {txt}");
public void LogToFile(string txt)    => Console.WriteLine($"F: {txt}");

// 2. INSTANTIATE & 3. INVOKE
LogHandler logger = LogToConsole;
logger("Hello"); // Output: C: Hello

// Multicast (Chaining methods)
logger += LogToFile;
logger("Error!"); 
// Output: 
// C: Error!
// F: Error!
```

---

### 2. Modern Shortcuts (`Action`, `Func`, `Predicate`)

In modern C#, you rarely define custom delegates using the `delegate` keyword. Instead, C# provides built-in generic types:

|**Type**|**Signature**|**Usage**|
|---|---|---|
|**`Action`**|`Action<T>`|For methods that return **void** (do something).|
|**`Func`**|`Func<T, Result>`|For methods that **return a value** (calculate something).|
|**`Predicate`**|`Predicate<T>`|For methods that return **bool** (test a condition).|

C#

```C#
// Action: Takes string, returns void
Action<string> myAction = LogToConsole;

// Func: Takes two ints, returns int
Func<int, int, int> add = (a, b) => a + b;

// Predicate: Takes int, returns bool
Predicate<int> isEven = x => x % 2 == 0;
```

---

### 3. Lambda Expressions (`=>`)

A Lambda expression is an **anonymous function** (a function without a name). It provides a concise syntax to create instances of Delegates, Actions, Funcs, or Predicates inline.

**Syntax:** `(parameters) => expression`

The `=>` operator is read as "goes to".

C#

```C#
// Standard Method
int Square(int x)
{
    return x * x;
}

// Equivalent Lambda
// "x goes to x times x"
x => x * x;
```

#### Syntax Cheatsheet


C#

```C#
// 1. One Parameter (Parentheses optional)
x => x + 1

// 2. Multiple Parameters (Parentheses required)
(x, y) => x + y

// 3. No Parameters
() => Console.WriteLine("Hi")

// 4. Block Body (For complex logic)
x => 
{
    int result = x * 10;
    return result;
}
```

### 4. Predicates in Lists

A Predicate<Ð¢> is a specific delegate used to test a condition. It takes an item and returns true or false.

These are heavily used in List methods like FindAll, RemoveAll, and Exists.Shutterstock

```C#
List<int> numbers = new List<int> { 1, 5, 8, 10, 13 };

// 1. FindAll (Uses a Predicate)
// "Find all numbers 'n' where 'n' is greater than 5"
List<int> bigNumbers = numbers.FindAll(n => n > 5);

// 2. RemoveAll (Uses a Predicate)
// "Remove if number is even"
numbers.RemoveAll(n => n % 2 == 0);

// 3. Exists (Uses a Predicate)
// "Does the list contain the number 13?"
bool hasThirteen = numbers.Exists(n => n == 13);
```
---
### Summary

- **Delegate:** The variable type that holds a function.
    
- **Action/Func:** The ready-made delegate types you should use.
    
- **Predicate:** A specialized delegate (`Func<T, bool>`) used for checking conditions (True/False).
    
- **Lambda:** The syntax (`=>`) to write the function code quickly.