
---

## C# Structs (Structure Types)

A **Struct** (short for Structure) is a data structure similar to a Class, but with one massive difference: **It is a Value Type, not a Reference Type.**

It is used for small, lightweight objects that are primarily just "data holders" (like a Coordinate point, a Vector, or a Complex Number).

### 1. Syntax & Declaration

Syntax is almost identical to a Class, just use the `struct` keyword.

C#

```C#
public struct Point
{
    public int X;
    public int Y;

    public Point(int x, int y)
    {
        X = x;
        Y = y;
    }

    public void Display()
    {
        Console.WriteLine($"Point: ({X}, {Y})");
    }
}
```

### 2. Example: Distance Between Two Points

A classic use case for a Struct is representing a point in 2D space. Here is how to calculate the distance.

Formula: $\sqrt{(x_2-x_1)^2 + (y_2-y_1)^2}$

C#

```C#
public struct Point
{
    public double X, Y;

    public Point(double x, double y)
    {
        X = x;
        Y = y;
    }

    // Method to calculate distance to another point
    public double DistanceTo(Point other)
    {
        double dx = this.X - other.X;
        double dy = this.Y - other.Y;
        
        // Euclidean distance formula
        return Math.Sqrt(Math.Pow(dx, 2) + Math.Pow(dy, 2));
    }
}

// Usage
Point p1 = new Point(10, 20);
Point p2 = new Point(50, 60);

double dist = p1.DistanceTo(p2);
```

---

### 3. Struct vs. Class (Value vs. Reference)

This is the most important concept to understand.

#### A. Classes are Reference Types (The "Remote Control")

When you assign a class variable to another, you copy the **Reference** (the pointer/remote), not the object itself. Both variables point to the **same** object in memory (Heap).

C#

```C#
// CLASS BEHAVIOR
public class PersonClass { public string Name; }

PersonClass a = new PersonClass { Name = "Tom" };
PersonClass b = a; // b is now a REMOTE CONTROL for the SAME object as a

b.Name = "Bob"; // We change b...

Console.WriteLine(a.Name); 
// Output: "Bob" 
// (Because 'a' and 'b' point to the exact same place in memory)
```

#### B. Structs are Value Types (The "Photocopy")

When you assign a struct variable to another, you copy the **entire data** (Value). You get a completely independent clone. They live on the **Stack**.

C#

```C#
// STRUCT BEHAVIOR
public struct PersonStruct { public string Name; }

PersonStruct x = new PersonStruct { Name = "Tom" };
PersonStruct y = x; // y is a PHOTOCOPY of x. It is independent.

y.Name = "Bob"; // We change y...

Console.WriteLine(x.Name); 
// Output: "Tom" 
// (x was NOT affected because y is a totally separate copy)
```

### 4. Summary Cheat Sheet

|**Feature**|**Class**|**Struct**|
|---|---|---|
|**Type**|Reference Type|Value Type|
|**Memory**|Allocated on **Heap**|Allocated on **Stack** (usually)|
|**Assignment**|Copies the **Pointer** (Reference)|Copies the **Data** (Clone)|
|**Inheritance**|Can inherit (`: BaseClass`)|**Cannot** inherit (Always sealed)|
|**Use When...**|Logic is complex, object is large.|Data is small, immutable, like a `Point` or `Color`.|

### 5. When to use a Struct?

Microsoft recommends using a struct **only** if:

1. The object is logically small (less than 16 bytes).
    
2. It represents a single value (like a coordinate or a number).
    
3. It is immutable (it shouldn't change after creation).
    
4. You won't box it frequently.
    

**For 95% of your code, stick to Classes.** Use Structs only for math/geometry heavy data.