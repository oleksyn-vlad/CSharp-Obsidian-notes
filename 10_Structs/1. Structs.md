
---

## C# Declaring Structs & Constructor Rules

Because Structs are **Value Types**, they behave differently from Classes when you create them, especially regarding constructors.

### 1. The "Default Constructor" Rule (Critical Difference)

This is a specific rule that often confuses developers coming from Classes.

- **Class Rule:** If you define _any_ constructor with parameters, C# **removes** the default parameterless constructor. You _must_ pass parameters (unless you manually add `public ClassName() {}` back).
    
- **Struct Rule:** A Struct **ALWAYS** has a built-in public parameterless constructor. You cannot remove it, hide it, or delete it. Even if you create a custom constructor `Point(int x, int y)`, you can still call `new Point()`.
    

C#

```C#
// CLASS BEHAVIOR
public class MyClass
{
    public MyClass(int x) { } // Custom constructor
}

// MyClass c = new MyClass(); // ❌ ERROR: Default constructor is gone!
MyClass c = new MyClass(10);  // ✅ Valid


// STRUCT BEHAVIOR
public struct MyStruct
{
    public int X;
    public MyStruct(int x) { X = x; } // Custom constructor
}

// Both are valid!
MyStruct s1 = new MyStruct(10); // ✅ Uses your custom logic
MyStruct s2 = new MyStruct();   // ✅ Valid! (Sets X to 0) - Always exists
```

### 2. Declaring with `new` (The Standard Way)

We usually use `new` for consistency.

- **`new Point()`**: Calls the **built-in** default constructor (sets all fields to 0, false, null).
    
- **`new Point(10, 20)`**: Calls your **custom** constructor.
    

C#

```C#
public struct Point
{
    public int X, Y;
    public Point(int x, int y) { X = x; Y = y; }
}

Point p1 = new Point();       // X=0, Y=0 (Default)
Point p2 = new Point(10, 20); // X=10, Y=20 (Custom)
```

### 3. Declaring WITHOUT `new`

You can declare a struct variable without `new`.

- **The Catch:** The variable is **uninitialized**. You cannot use it until you manually give **every single field** a value.
    

C#

```C#
Point p3; // No 'new' used

// Console.WriteLine(p3.X); // ❌ Error: Use of unassigned local variable

// You must initialize ALL fields manually
p3.X = 50;
p3.Y = 100;

// Now it is valid to use
Console.WriteLine(p3.X); // Output: 50
```

### 4. Summary Cheat Sheet

|**Feature**|**Class**|**Struct**|
|---|---|---|
|**Default Constructor**|Removed if you add a custom one.|**Always exists.** Cannot be removed.|
|**`MyType x;`**|Variable is `null`.|Variable exists but fields are **unassigned**.|
|**`new MyType()`**|Creates object on **Heap**.|Creates object on **Stack**. Zeroes out fields.|
|**Can skip `new`?**|**No**.|**Yes** (but messy).|