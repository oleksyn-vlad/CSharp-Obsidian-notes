Here is the note on `TryParse`.

---

## C# TryParse (Safe Conversion)

In C#, you often need to convert a `string` to a number (like an `int`).

- Using `int.Parse()` or `Convert.ToInt32()` works, but it will **throw an exception** (crash the program) if the string is not a valid number (e.g., `"hello"` or `"12a"`).
    
- `TryParse` is the preferred, safe way to handle user input and other non-guaranteed strings.
    

### 1. How `TryParse` Works

`TryParse` attempts to convert the string.

- If it **succeeds**, it returns `true` and puts the converted value into an `out` variable.
    
- If it **fails**, it returns `false` and does _not_ throw an exception.
    

### 2. Syntax (The `out` Parameter)

The `out` keyword is the C# way to pass a variable _by reference_ to a method so the method can assign a value to it.

Notice the `out int number` syntax. This declares the `number` variable _directly in the method call_.

C#

```C#
string userInput = "123";
int convertedNumber; // This will hold the result

// Try to parse the string
bool wasSuccessful = int.TryParse(userInput, out convertedNumber);

if (wasSuccessful)
{
    Console.WriteLine($"Success! The number is: {convertedNumber}");
}
else
{
    Console.WriteLine($"Failed to parse '{userInput}'");
}
```

### 3. Inline Declaration (Modern C#)

You can make the code shorter by declaring the `out` variable "inline," right inside the `if` statement. This is the most common pattern you will see.

C#

```C#
string userInput = "abc"; // This will fail

if (int.TryParse(userInput, out int number))
{
    // This block only runs on SUCCESS
    Console.WriteLine($"Success! The number is: {number}");
}
else
{
    // This block runs on FAILURE
    Console.WriteLine($"Failed to parse '{userInput}'");
}
```

### 4. `Parse` (Throws) vs. `TryParse` (Safe)

C#

```C#
string s1 = "123";
string s2 = "INVALID";

// --- Using int.Parse (Dangerous) ---
try
{
    int num1 = int.Parse(s1); // Works
    int num2 = int.Parse(s2); // THROWS an exception
}
catch (Exception ex)
{
    Console.WriteLine("Parse failed: " + ex.Message);
}


// --- Using int.TryParse (Safe) ---
if (int.TryParse(s2, out int num3))
{
    // It won't get here
}
else
{
    Console.WriteLine("TryParse failed, but the program did not crash.");
}
```

> **Note:** `TryParse` exists for most built-in types: `double.TryParse()`, `bool.TryParse()`, `DateTime.TryParse()`, etc.